(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{199:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(67),r=c.n(s),i=c(3),l=(c(76),c(77),c(2)),o=c(4),j=c(68),u=c.n(j);c(96).config();var b=u.a.create({baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Spotify-Insider",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL),timeout:2e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),d=function(e){e?b.defaults.headers.common["x-auth-token"]=e:delete b.defaults.headers.common["x-auth.token"]},O=b,p=function(e){return!1!==e&&(!e||"undefined"===e||"null"===e)},f=function(e){var t=e;switch(e){case 0:t="C";break;case 1:t="D\u266d";break;case 2:t="D";break;case 3:t="E\u266d";break;case 4:t="E";break;case 5:t="F";break;case 6:t="G\u266d";break;case 7:t="G";break;case 8:t="A\u266d";break;case 9:t="A";break;case 10:t="B\u266d";break;case 11:t="B";break;default:return null}return t},m=function(e){var t=Math.floor(e/1e3),c=Math.floor(t/60);return t=(t-=60*c)>10?t:"0".concat(t),"".concat(c,":").concat(t)},h=function(e){e&&window.localStorage.setItem("spotify_timestamp",Date.now()),window.localStorage.setItem("spotify_access_token",e)},x=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t,c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(v())){e.next=15;break}return e.prev=1,e.next=4,O.get("/api/refresh_token?refresh_token=".concat(v()));case 4:return t=e.sent,c=t.data,a=c.access_token,h(a),window.location.reload(),e.abrupt("return");case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),v=function(){return window.localStorage.getItem("spotify_refresh_token")},g=function(){var e=function(){var e={},t=window.location.search,c=new URLSearchParams(t),a=c.get("access_token"),n=c.get("refresh_token");return e.accessToken=a,e.refreshToken=n,e}(),t=e.accessToken,c=e.refreshToken,a=window.localStorage.getItem("spotify_access_token"),n=v();return p(t)&&p(c)&&p(a)&&p(n)?null:(Date.now()-window.localStorage.getItem("spotify_timestamp")>36e5&&(console.log("Acess token expired, refreshing to get new one"),x()),p(n)&&function(e){window.localStorage.setItem("spotify_refresh_token",e)}(c),p(a)?(h(t),t):a)}(),k=function(){window.localStorage.removeItem("spotify_timestamp"),window.localStorage.removeItem("spotify_access_token"),window.localStorage.removeItem("spotify_refresh_token"),window.location.href="/"},y=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,c,a,n){var s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,c,n);case 2:if(200!==(s=e.sent).status){e.next=9;break}return e.next=6,N(s.data.id,a);case 6:if(200!==e.sent.status){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t,c,a,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,c,a){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("/api/create_playlist?id=".concat(t,"&name=").concat(c,"&profile=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(Object(l.a)().mark((function e(t,c){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.tracks.map((function(e){return e.uri})).join(","),e.next=3,O.post("/api/add_to_playlist?id=".concat(t,"&uris=").concat(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),S=c(0),_=function(){return Object(a.useEffect)((function(){}),[]),Object(S.jsxs)("div",{className:"login-div",children:[Object(S.jsx)("h1",{children:"Spotify Insider"}),Object(S.jsx)("h4",{children:"Learn more about your spotify account!"}),Object(S.jsx)("a",{className:"btn login-btn",href:"".concat("http://spotify-insider.herokuapp.com/api/login"),children:"Login to Spotify"})]})},C=c(16),E=c(6),T=function(e){var t=e.list,c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{style:{marginTop:"30px"},children:Object(S.jsx)("ul",{children:t.map((function(e,t){return function(e,t){var a=new Date(e.played_at),n=a.getHours(),s="am";n>12&&(n-=12,s="pm");var r=a.getMinutes()>=10?a.getMinutes():"0".concat(a.getMinutes());return Object(S.jsx)("li",{children:Object(S.jsxs)("a",{className:"link-in-list",href:"/song/".concat(e.track.id),children:[Object(S.jsx)("span",{className:"table-pic-span",children:Object(S.jsx)("img",{className:"playlist-pic",src:"".concat(e.track.album.images[0].url),alt:"al"})}),Object(S.jsxs)("div",{className:"name-and-time",children:[Object(S.jsxs)("div",{className:"left wrap ",children:[Object(S.jsx)("p",{children:e.track.name}),Object(S.jsxs)("p",{children:[e.track.artists[0].name," ",Object(S.jsx)("span",{children:"\xb7"})," ",e.track.album.name]})]}),Object(S.jsx)("div",{children:"".concat(a.getDate()," ").concat(c[a.getMonth()],", ").concat(n,":").concat(r).concat(s)})]})]})},e.played_at)}(e)}))})})},A=c(69),M=c.n(A),D=function(){return Object(S.jsx)(M.a,{type:"spinningBubbles",className:"loader",color:"white"})},L=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/recently_played_songs/");case 4:t=e.sent,c=t.data,n(c.musicHistory);case 7:case"end":return e.stop()}}),e)}))),[j]);return Object(a.useEffect)((function(){u(g),b()}),[u,b]),Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{children:"Recently Played Songs"}),p(c)?Object(S.jsx)(D,{}):Object(S.jsx)(T,{list:c})]})},P=c(13),I=c(12),F=function(e){var t=e.list;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{style:{marginBottom:"75px"},children:t.map((function(e,t){return function(e,t){return Object(S.jsx)("div",{className:"genre-list-div",children:Object(S.jsxs)("h4",{children:[t+1,") ",e[0]]})})}(e,t)}))})},B=c(17),R=function(e){var t=e.playlist,c=e.name,n=e.id,s=e.profile,r=Object(a.useState)(!1),j=Object(i.a)(r,2),u=j[0],b=j[1];Object(a.useEffect)((function(){if(p(t))return""}),[t]);var d=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=y(n,c,t,s),b(a);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"header",children:[Object(S.jsxs)("h3",{children:["Recommended ",s?"Songs":"Based on: ".concat(c)]}),u?Object(S.jsxs)("div",{className:"playlist-created",children:[Object(S.jsx)(B.Checkmark,{size:20})," ",Object(S.jsx)("p",{style:{marginLeft:"10px"},children:"Playlist Created"})]}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:d,className:"btn login-btn",type:"button",children:"Save to Spotify"})})]}),Object(S.jsx)("div",{className:"playlist-songs",children:Object(S.jsx)("div",{style:{marginTop:"30px"},children:Object(S.jsx)("ol",{children:t.tracks.map((function(e,t){return function(e,t){var c=Math.floor(e.duration_ms/1e3),a=Math.floor(c/60);return c=(c-=60*a)>10?c:"0".concat(c),Object(S.jsx)("li",{children:Object(S.jsxs)("a",{className:"link-in-list",href:"/song/".concat(e.id),children:[Object(S.jsx)("span",{className:"table-pic-span",children:Object(S.jsx)("img",{className:"playlist-pic",src:"".concat(e.album.images[0].url),alt:"al"})}),Object(S.jsxs)("div",{className:"name-and-time",children:[Object(S.jsxs)("div",{className:"left wrap",children:[Object(S.jsx)("p",{children:e.name}),Object(S.jsxs)("p",{children:[e.artists[0].name," ",Object(S.jsx)("span",{children:"\xb7"})," ",e.album.name]})]}),Object(S.jsx)("div",{children:"".concat(a,":").concat(c)})]})]})},t)}(e,t)}))})})})]})},W=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)(),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useState)(),v=Object(i.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)("short"),_=Object(i.a)(N,2),C=_[0],E=_[1],T=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=8;break}return e.next=4,O.get("/api/current_profile/");case 4:t=e.sent,c=t.data,console.log(c),n(c.body);case 8:case"end":return e.stop()}}),e)}))),[j]),A=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=8;break}return e.next=4,O.get("/api/top_genres?term=".concat(t));case 4:c=e.sent,a=c.data,console.log(a),w(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),M=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=8;break}return e.next=4,O.get("/api/general_recommendation/");case 4:t=e.sent,c=t.data,console.log(c),h(c);case 8:case"end":return e.stop()}}),e)}))),[j]);Object(a.useEffect)((function(){u(g),T(),A(C),M()}),[j,C,T,A,M]);var L=function(e){e.preventDefault(),E(e.target.name)},B="btn button-in-group ".concat("short"===C?"selected":""),W="btn button-in-group ".concat("medium"===C?"selected":""),z="btn button-in-group far-right-button ".concat("long"===C?"selected":"");return Object(S.jsx)("div",{children:p(c)||p(y)||p(m)?Object(S.jsx)(D,{}):Object(S.jsxs)("div",{className:"home-user-div",children:[Object(S.jsx)("h1",{style:{marginBottom:"0"},children:c.display_name}),0===c.images.length?Object(S.jsx)(P.a,{className:"profile-pic",size:"5x",icon:I.e}):Object(S.jsx)("img",{src:"".concat(c.images[0].url),alt:"",className:"profile-pic"}),Object(S.jsx)("button",{className:"btn  home-logout-button",onClick:k,children:"Logout"}),Object(S.jsxs)("div",{style:{margin:"0 10%"},children:[Object(S.jsxs)("div",{className:"header",children:[Object(S.jsx)("h3",{children:"Top Genres"}),Object(S.jsxs)("div",{className:"btn-group",role:"group",children:[Object(S.jsx)("button",{onClick:L,type:"button",name:"short",className:B,children:"Last 4 Weeks"}),Object(S.jsx)("button",{onClick:L,type:"button",name:"medium",className:W,children:"Last 6 Months"}),Object(S.jsx)("button",{onClick:L,type:"button",name:"long",className:z,children:"All Time"})]})]}),Object(S.jsx)(F,{list:y}),Object(S.jsx)(R,{playlist:m,id:c.id,profile:!0})]})]})})},z=c.p+"static/media/SpotifyIcon.6e3d578d.png",J=function(){var e=Object(a.useState)(window.innerWidth),t=Object(i.a)(e,2),c=t[0],n=t[1];return window.addEventListener("resize",(function(){return n(window.innerWidth)})),Object(S.jsxs)("nav",{className:"sidenav",children:[Object(S.jsx)("div",{children:Object(S.jsx)("a",{href:"/",children:Object(S.jsx)("img",{class:"spotify-icon",src:z,alt:""})})}),Object(S.jsxs)("div",{className:"horizontal-div",children:[c<768&&Object(S.jsx)("a",{href:"/",children:Object(S.jsx)("img",{className:"spotify-icon-horizontal",src:z,alt:""})}),Object(S.jsxs)("a",{href:"/recently_played_songs",className:"icon-div",children:[Object(S.jsx)(P.a,{className:"icon",icon:I.a}),Object(S.jsx)("p",{children:"Recent"})]}),Object(S.jsxs)("a",{href:"/top_songs",className:"icon-div",children:[Object(S.jsx)(P.a,{className:"icon",icon:I.c}),Object(S.jsx)("p",{children:"Top Songs"})]}),Object(S.jsxs)("a",{href:"/top_artists",className:"icon-div",children:[Object(S.jsx)(P.a,{className:"icon",icon:I.e}),Object(S.jsx)("p",{children:"Top Artists"})]}),Object(S.jsxs)("a",{href:"/current_playlists",className:"icon-div",children:[Object(S.jsx)(P.a,{className:"icon",icon:I.b}),Object(S.jsx)("p",{children:"Playlists"})]})]}),Object(S.jsx)("div",{className:"logout-nav",children:Object(S.jsxs)("button",{className:"logout-btn",onClick:k,children:[Object(S.jsx)("div",{className:"icon-div",children:Object(S.jsx)(P.a,{className:"icon",icon:I.d})}),"Logout"]})})]})},U=function(e){var t=e.list;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{style:{marginTop:"30px"},children:Object(S.jsx)("ol",{children:t.map((function(e,t){return function(e,t){return Object(S.jsx)("li",{children:Object(S.jsxs)("a",{className:"link-in-list",href:"/song/".concat(e.id),children:[Object(S.jsx)("span",{className:"table-pic-span",children:Object(S.jsx)("img",{className:"playlist-pic",src:"".concat(e.album.images[0].url),alt:"al"})}),Object(S.jsxs)("div",{className:"name-and-time",children:[Object(S.jsxs)("div",{className:"left wrap",children:[Object(S.jsx)("p",{children:e.name}),Object(S.jsxs)("p",{children:[e.artists[0].name," ",Object(S.jsx)("span",{children:"\xb7"})," ",e.album.name]})]}),Object(S.jsx)("div",{children:m(e.duration_ms)})]})]})},t)}(e,t)}))})})},H=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)("short"),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/top_songs?term=".concat(t));case 4:c=e.sent,a=c.data,n(a.topSongs);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]);Object(a.useEffect)((function(){u(g),x(m)}),[j,m,x]);var v=function(e){e.preventDefault(),h(e.target.name)},k="btn button-in-group ".concat("short"===m?"selected":""),y="btn button-in-group ".concat("medium"===m?"selected":""),w="btn button-in-group far-right-button ".concat("long"===m?"selected":"");return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"header",children:[Object(S.jsx)("h3",{children:"Most Played Songs"}),Object(S.jsxs)("div",{className:"btn-group",role:"group",children:[Object(S.jsx)("button",{onClick:v,type:"button",name:"short",className:k,children:"Last 4 Weeks"}),Object(S.jsx)("button",{onClick:v,type:"button",name:"medium",className:y,children:"Last 6 Months"}),Object(S.jsx)("button",{onClick:v,type:"button",name:"long",className:w,children:"All Time"})]})]}),p(c)?Object(S.jsx)(D,{}):Object(S.jsx)(U,{list:c})]})},G=function(e){var t=e.list;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{style:{marginTop:"30px"},className:"artist-grid",children:Object(S.jsx)("div",{className:"row",children:t.map((function(e,t){return function(e,t){return Object(S.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 artist-col",children:Object(S.jsxs)("a",{href:"/artist/".concat(e.id),children:[Object(S.jsx)("img",{className:"top-artist-pic",src:"".concat(e.images[0].url),alt:"al"}),Object(S.jsx)("p",{style:{margin:"10px"},children:e.name})]})},t)}(e,t)}))})})},K=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)("short"),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/top_artists?term=".concat(t));case 4:c=e.sent,a=c.data,n(a.topArtists);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]);Object(a.useEffect)((function(){u(g),x(m)}),[j,m,x]);var v=function(e){e.preventDefault(),h(e.target.name)},k="btn button-in-group ".concat("short"===m?"selected":""),y="btn button-in-group ".concat("medium"===m?"selected":""),w="btn button-in-group far-right-button ".concat("long"===m?"selected":"");return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"header",children:[Object(S.jsx)("h3",{children:"Most Played Artists"}),Object(S.jsxs)("div",{className:"btn-group",role:"group",children:[Object(S.jsx)("button",{onClick:v,type:"button",name:"short",className:k,children:"Last 4 Weeks"}),Object(S.jsx)("button",{onClick:v,type:"button",name:"medium",className:y,children:"Last 6 Months"}),Object(S.jsx)("button",{onClick:v,type:"button",name:"long",className:w,children:"All Time"})]})]}),p(c)?Object(S.jsx)(D,{}):Object(S.jsx)(G,{list:c})]})},V=function(e){var t=e.list,c=e.filter,n=e.user;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"row",children:t.map((function(e,t){return function(e,t){if("all"!==c)if("mine"===c){if(e.owner.id!==n.id)return""}else if(e.owner.id===n.id)return"";return Object(S.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 artist-col",children:Object(S.jsxs)("a",{href:"/playlist/".concat(e.id),children:[Object(S.jsx)("img",{className:"playlist-page-pic",src:"".concat(e.images[0].url),alt:"al"}),Object(S.jsx)("p",{style:{margin:"10px"},children:e.name})]})},t)}(e,t)}))})})},$=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)("all"),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useState)(),v=Object(i.a)(x,2),k=v[0],y=v[1],w=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/current_playlists/");case 4:t=e.sent,c=t.data,n(c.current_playlists);case 7:case"end":return e.stop()}}),e)}))),[j]),N=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/current_profile/");case 4:t=e.sent,c=t.data,y(c.body);case 7:case"end":return e.stop()}}),e)}))),[j]);Object(a.useEffect)((function(){u(g),w(),N()}),[j,w,N]);var _=function(e){e.preventDefault(),h(e.target.name)},C="btn button-in-group ".concat("all"===m?"selected":""),E="btn button-in-group ".concat("mine"===m?"selected":""),T="btn button-in-group far-right-button ".concat("other"===m?"selected":"");return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"header",children:[Object(S.jsx)("h3",{children:"Playlists"}),Object(S.jsxs)("div",{className:"btn-group",role:"group",children:[Object(S.jsx)("button",{onClick:_,type:"button",name:"all",className:C,children:"All"}),Object(S.jsx)("button",{onClick:_,type:"button",name:"mine",className:E,children:"My Playlists"}),Object(S.jsx)("button",{onClick:_,type:"button",name:"other",className:T,children:"Other Playlists"})]})]}),p(c)||p(k)?Object(S.jsx)(D,{}):Object(S.jsx)(V,{user:k,filter:m,list:c})]})},q=function(e){var t=e.playlist;Object(a.useEffect)((function(){if(p(t))return""}),[t]);return Object(S.jsx)("div",{className:"playlist-songs",children:Object(S.jsx)("div",{style:{marginTop:"30px"},children:Object(S.jsx)("ol",{children:t.tracks.items.map((function(e,t){return function(e,t){var c=Math.floor(e.track.duration_ms/1e3),a=Math.floor(c/60);return c=(c-=60*a)>10?c:"0".concat(c),Object(S.jsx)("li",{children:Object(S.jsxs)("a",{className:"link-in-list",href:"/song/".concat(e.track.id),children:[Object(S.jsx)("span",{className:"table-pic-span",children:Object(S.jsx)("img",{className:"playlist-pic",src:"".concat(e.track.album.images[0].url),alt:"al"})}),Object(S.jsxs)("div",{className:"name-and-time",children:[Object(S.jsxs)("div",{className:"left wrap",children:[Object(S.jsx)("p",{children:e.track.name}),Object(S.jsxs)("p",{children:[e.track.artists[0].name," ",Object(S.jsx)("span",{children:"\xb7"})," ",e.track.album.name]})]}),Object(S.jsx)("div",{children:"".concat(a,":").concat(c)})]})]})},t)}(e,t)}))})})})},Q=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)(),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(E.f)().id,v=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/playlist?id=".concat(t,"/"));case 4:c=e.sent,a=c.data,n(a.playlist);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),k=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c,a,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=11;break}return e.next=4,O.get("/api/current_profile/");case 4:return t=e.sent,c=t.data.body.id,e.next=8,O.get("/api/follow_playlist?id=".concat(x,"&user=").concat(c,"/"));case 8:a=e.sent,n=a.data,h(n[0]);case 11:case"end":return e.stop()}}),e)}))),[j,x]);Object(a.useEffect)((function(){u(g),v(x),k()}),[j,k,v,x]);var y=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.put("/api/follow_playlist?id=".concat(x));case 4:t=e.sent,"success"===t.data&&h(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.delete("/api/unfollow_playlist?id=".concat(x));case 4:t=e.sent,"success"===t.data&&h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{children:p(c)?Object(S.jsx)(D,{}):Object(S.jsxs)("div",{className:"playlist-header",children:[Object(S.jsx)("h2",{children:c.name}),Object(S.jsx)("img",{src:"".concat(c.images[0].url),className:"playlist-page-pic",style:{marginBottom:"20px"},alt:""}),Object(S.jsx)("a",{href:"/profile/".concat(c.owner.id),children:Object(S.jsxs)("p",{children:["By: ",c.owner.display_name]})}),Object(S.jsx)("p",{children:c.description}),Object(S.jsxs)("p",{children:[c.tracks.total," Tracks"]}),m?Object(S.jsx)("div",{className:"playlist-follow",children:Object(S.jsxs)("div",{onClick:w,className:"playlist-created",children:[Object(S.jsx)(B.Checkmark,{size:20})," ",Object(S.jsx)("p",{style:{marginLeft:"10px"},children:"Following"})]})}):Object(S.jsx)("button",{onClick:y,className:"btn playlist-btn",children:"Follow"}),Object(S.jsx)("a",{className:"btn login-btn",style:{marginTop:"0"},href:"/playlist_recommendations/".concat(c.id,"/").concat(c.name),children:"Get Recommended Playlist"}),Object(S.jsx)(q,{playlist:c})]})})},X=function(e){var t=e.list;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"row",children:t.map((function(e,t){return function(e,t){return Object(S.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 artist-col",children:Object(S.jsxs)("a",{href:"/playlist/".concat(e.id),children:[Object(S.jsx)("img",{className:"playlist-page-pic",src:"".concat(e.images[0].url),alt:"al"}),Object(S.jsx)("p",{style:{margin:"10px"},children:e.name})]})},t)}(e,t)}))})})},Y=function(e){var t=e.profile,c=e.playlists,n=e.following,s=e.currentUser,r=Object(a.useState)(n),j=Object(i.a)(r,2),u=j[0],b=j[1],f=Object(a.useState)(""),m=Object(i.a)(f,2),h=m[0],x=m[1];Object(a.useEffect)((function(){if(p(t)||p(c))return"";x(g)}),[c,t]);var v=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(h),!h){e.next=7;break}return e.next=4,O.put("/api/follow?id=".concat(t.id,"&type=user"));case 4:c=e.sent,"success"===c.data&&b(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(h),!h){e.next=7;break}return e.next=4,O.delete("/api/unfollow?id=".concat(t.id,"&type=user"));case 4:c=e.sent,"success"===c.data&&b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"playlist-header",children:[Object(S.jsx)("h1",{children:t.display_name}),0===t.images.length?Object(S.jsx)(P.a,{className:"profile-pic",size:"5x",icon:I.e}):Object(S.jsx)("img",{src:"".concat(t.images[0].url),alt:"",className:"profile-pic",style:{marginBottom:"30px",marginTop:"15px"}}),s.id===t.id?"":u?Object(S.jsx)("div",{className:"user-follow",children:Object(S.jsxs)("div",{onClick:k,className:"playlist-created",children:[Object(S.jsx)(B.Checkmark,{size:20})," ",Object(S.jsx)("p",{style:{marginLeft:"10px"},children:"Following"})]})}):Object(S.jsx)("button",{onClick:v,className:"btn login-btn",children:"Follow"}),Object(S.jsx)("h4",{style:{marginBottom:"30px"},children:"Playlists"}),Object(S.jsx)(X,{list:c.items})]})},Z=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)(),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useState)(""),v=Object(i.a)(x,2),k=v[0],y=v[1],w=Object(a.useState)(),N=Object(i.a)(w,2),_=N[0],C=N[1],T=Object(E.f)().id,A=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(k),!k){e.next=7;break}return e.next=4,O.get("/api/profile?id=".concat(t));case 4:c=e.sent,a=c.data,n(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),M=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(k),!k){e.next=7;break}return e.next=4,O.get("/api/profile_playlists?id=".concat(t));case 4:c=e.sent,a=c.data,u(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),L=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(k),!k){e.next=7;break}return e.next=4,O.get("/api/follow?id=".concat(t,"&type=user"));case 4:c=e.sent,a=c.data,h(a[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),P=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(k),!k){e.next=7;break}return e.next=4,O.get("/api/current_profile/");case 4:t=e.sent,c=t.data,C(c.body);case 7:case"end":return e.stop()}}),e)}))),[k]);return Object(a.useEffect)((function(){y(g),A(T),M(T),L(T),P()}),[k,P,L,A,M,T]),Object(S.jsx)("div",{children:p(c)||p(j)||p(m)||p(_)?Object(S.jsx)(D,{}):Object(S.jsx)(Y,{following:m,currentUser:_,profile:c,playlists:j})})},ee=c(71),te=function(e){var t=e.songAudioFeatures;Object(a.useEffect)((function(){}),[]);var c={labels:["Danceability","Energy","Acousticness","Instrumentalness","Liveness","Speechiness","Valence"],datasets:[{label:"",data:[t.danceability,t.energy,t.acousticness,t.instrumentalness,t.liveness,t.speechiness,t.valence],backgroundColor:["rgba(255, 99, 132, 0.3)","rgba(54, 162, 235, 0.3)","rgba(255, 206, 86, 0.3)","rgba(74, 192, 192, 0.3)","rgba(255, 165, 0, 0.3)","rgba(153, 102, 255, 0.3)","rgba(34, 139, 34, 0.3)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(74, 192, 192, 1)","rgba(255, 165, 0, 1)","rgba(153, 102, 255, 1)","rgba(34, 139, 34, 1)"],borderWidth:1}]};return Object(S.jsx)("div",{style:{width:"100%",maxWidth:"600px"},children:Object(S.jsx)(ee.Bar,{data:c,width:300,height:250,options:{legend:{display:!1}}})})},ce=function(e){var t=e.song,c=e.songAudioFeatures,n=e.dataAvailable;Object(a.useEffect)((function(){if(p(t))return""}),[t]);return Object(S.jsxs)("div",{className:"song-page-outer-div",children:[Object(S.jsx)("img",{src:"".concat(t.album.images[0].url),alt:"",class:"playlist-page-pic"}),Object(S.jsx)("h2",{className:"song-name",children:t.name}),Object(S.jsx)("a",{className:"song-page-name",href:"/artist/".concat(t.artists[0].id),children:Object(S.jsxs)("p",{children:["By: ",t.artists[0].name]})}),n?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"row song-details justify-content-center",children:[Object(S.jsxs)("div",{className:"col col-md-auto col-sm-4 col-4",children:[Object(S.jsx)("p",{children:function(){var e=t.album.release_date.split("-"),c=parseInt(e[2])>=10?e[2]:"".concat(String(e[2]).charAt(1));return["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e[1])]+" "+c+", "+e[0]}()}),Object(S.jsx)("p",{className:"artist-label",children:"Released"})]}),Object(S.jsxs)("div",{className:"col col-md-auto col-sm-4 col-4",children:[Object(S.jsx)("p",{children:m(c.duration_ms)}),Object(S.jsx)("p",{className:"artist-label",children:"Duration"})]}),Object(S.jsxs)("div",{className:"col col-md-auto col-sm-4 col-4",children:[Object(S.jsx)("p",{children:f(c.key)}),Object(S.jsx)("p",{className:"artist-label",children:"Key"})]}),Object(S.jsxs)("div",{className:"col col-md-auto col-sm-4 col-4",children:[Object(S.jsx)("p",{children:0===c.mode?"Major":"Minor"}),Object(S.jsx)("p",{className:"artist-label",children:"Mode"})]}),Object(S.jsxs)("div",{className:"col col-md-auto col-sm-4 col-4",children:[Object(S.jsxs)("p",{children:[Math.floor(c.tempo)," (BPM)"]}),Object(S.jsx)("p",{className:"artist-label",children:"Tempo"})]})]}),Object(S.jsx)("div",{className:"song-details-2"}),Object(S.jsx)(te,{songAudioFeatures:c})]}):Object(S.jsx)("p",{children:"Song Data not available right now."})]})},ae=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)(""),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useState)(),v=Object(i.a)(x,2),k=v[0],y=v[1],w=Object(E.f)().id,N=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(m),!m){e.next=7;break}return e.next=4,O.get("/api/song?id=".concat(t));case 4:c=e.sent,a=c.data,n(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]),_=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(m),c=0,!m){e.next=17;break}case 3:if(!(c<10)){e.next=17;break}return e.next=6,O.get("/api/song_audio_features?id=".concat(t));case 6:if(a=e.sent,n=a.data,!p(n)){e.next=12;break}c++,e.next=15;break;case 12:return y(!0),u(n),e.abrupt("break",17);case 15:e.next=3;break;case 17:10===c&&y(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]);return Object(a.useEffect)((function(){h(g),N(w),_(w)}),[w,N,_]),Object(S.jsx)("div",{className:"center",children:p(c)||p(j)||p(k)?Object(S.jsx)(D,{}):Object(S.jsx)(ce,{song:c,dataAvailable:k,songAudioFeatures:j})})},ne=function(e){var t=e.list,c=e.all;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{style:{marginTop:"30px"},children:Object(S.jsx)("ol",{children:t.map((function(e,t){return function(e,t){if(!c&&t>4)return"";var a=Math.floor(e.duration_ms/1e3),n=Math.floor(a/60);return a=(a-=60*n)>10?a:"0".concat(a),Object(S.jsx)("li",{children:Object(S.jsxs)("a",{className:"link-in-list",href:"/song/".concat(e.id),children:[Object(S.jsx)("span",{className:"table-pic-span",children:Object(S.jsx)("img",{className:"playlist-pic",src:"".concat(e.album.images[0].url),alt:"al"})}),Object(S.jsxs)("div",{className:"name-and-time",children:[Object(S.jsxs)("div",{className:"left wrap",children:[Object(S.jsx)("p",{children:e.name}),Object(S.jsxs)("p",{children:[e.artists[0].name," ",Object(S.jsx)("span",{children:"\xb7"})," ",e.album.name]})]}),Object(S.jsx)("div",{children:"".concat(n,":").concat(a)})]})]})},t)}(e,t)}))})})},se=function(e){var t=e.albums,c=e.all;Object(a.useEffect)((function(){if(t.length<=2)return""}),[t.length]);return Object(S.jsx)("div",{className:"row",children:t.map((function(e,t){return function(e,t){return!c&&t>7?"":Object(S.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 artist-album-col",children:Object(S.jsxs)("a",{href:"/album/".concat(e.id),children:[Object(S.jsx)("img",{className:"playlist-page-pic",src:"".concat(e.images[0].url),alt:"al"}),Object(S.jsx)("p",{style:{margin:"10px"},className:"album-name",children:e.name})]})},t)}(e,t)}))})},re=function(e){var t=e.artist,c=(e.relatedArtists,e.topTracks),n=e.albums,s=e.following,r=Object(a.useState)(!1),j=Object(i.a)(r,2),u=j[0],b=j[1],f=Object(a.useState)(!1),m=Object(i.a)(f,2),h=m[0],x=m[1],v=Object(a.useState)(!0),k=Object(i.a)(v,2),y=k[0],w=k[1],N=Object(a.useState)(!0),_=Object(i.a)(N,2),C=_[0],E=_[1],T=Object(a.useState)(s),A=Object(i.a)(T,2),M=A[0],D=A[1],L=Object(a.useState)(""),P=Object(i.a)(L,2),I=P[0],F=P[1],R=Object(a.useCallback)((function(){c.tracks.length<6&&w(!1),n.items.length<9&&E(!1)}),[n.items.length,c.tracks.length]);Object(a.useEffect)((function(){if(p(t))return"";F(g),R()}),[t,R]);var W=function(e){switch(!0){case e>=90:return"\u2605\u2605\u2605\u2605\u2605";case e>=80:return"\u2605\u2605\u2605\u2605";case e>=65:return"\u2605\u2605\u2605";case e>=50:return"\u2605\u2605";case e>=35:return"\u2605";default:return""}}(t.popularity),z=function(e){return e.num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},J=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(I),!I){e.next=7;break}return e.next=4,O.put("/api/follow?id=".concat(t.id,"&type=artist"));case 4:c=e.sent,"success"===c.data&&D(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(Object(l.a)().mark((function e(){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(I),!I){e.next=7;break}return e.next=4,O.delete("/api/unfollow?id=".concat(t.id,"&type=artist"));case 4:c=e.sent,"success"===c.data&&D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"artist-outer-div",children:[Object(S.jsx)("h1",{className:"artist-name",children:t.name}),Object(S.jsx)("img",{src:"".concat(t.images[0].url),alt:"",className:"profile-pic artist-pic"}),Object(S.jsxs)("div",{className:"artist-details",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{className:"artist-stars",children:W}),Object(S.jsx)("p",{className:"artist-label",children:"Popularity"})]}),Object(S.jsxs)("div",{style:{display:"inline-block"},children:[0===t.genres.length?Object(S.jsx)("p",{children:"N/A"}):Object(S.jsx)("ul",{children:t.genres.map((function(e,t){return Object(S.jsx)("li",{children:Object(S.jsx)("p",{style:{lineHeight:"1rem"},children:e})},t)}))}),Object(S.jsx)("p",{className:"artist-label",children:"Genres"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:Object(S.jsx)(z,{num:t.followers.total})}),Object(S.jsx)("p",{className:"artist-label",children:"Followers"})]})]}),M?Object(S.jsxs)("div",{onClick:U,className:"playlist-created",children:[Object(S.jsx)(B.Checkmark,{size:20})," ",Object(S.jsx)("p",{style:{marginLeft:"10px"},children:"Following"})]}):Object(S.jsx)("button",{onClick:J,className:"btn playlist-btn",children:"Follow"}),Object(S.jsx)("h3",{children:"Top Tracks"}),Object(S.jsx)(ne,{list:c.tracks,all:u}),y?Object(S.jsxs)("button",{onClick:function(e){e.preventDefault(),b(!u)},className:"btn btn-dark logout-button",children:["Show ",u?"less":"more"]}):Object(S.jsx)("div",{style:{margin:"5px"}}),Object(S.jsx)("h3",{className:"album-name-header",children:"Albums"}),Object(S.jsx)("div",{style:{width:"100%"},children:Object(S.jsx)(se,{albums:n.items,all:h})}),C&&Object(S.jsxs)("button",{onClick:function(e){e.preventDefault(),x(!h)},className:"btn btn-dark logout-button",children:["Show ",h?"less":"all"]})]})},ie=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)(),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(a.useState)(),v=Object(i.a)(x,2),k=v[0],y=v[1],w=Object(a.useState)(),N=Object(i.a)(w,2),_=N[0],C=N[1],T=Object(a.useState)(""),A=Object(i.a)(T,2),M=A[0],L=A[1],P=Object(E.f)().id,I=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(M),!M){e.next=7;break}return e.next=4,O.get("/api/artist?id=".concat(t));case 4:c=e.sent,a=c.data,n(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]),F=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(M),!M){e.next=7;break}return e.next=4,O.get("/api/artist_albums?id=".concat(t));case 4:c=e.sent,a=c.data,u(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]),B=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(M),!M){e.next=7;break}return e.next=4,O.get("/api/artist_related_artists?id=".concat(t));case 4:c=e.sent,a=c.data,h(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]),R=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(M),!M){e.next=7;break}return e.next=4,O.get("/api/artist_top_tracks?id=".concat(t));case 4:c=e.sent,a=c.data,y(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]),W=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(M),!M){e.next=7;break}return e.next=4,O.get("/api/follow?id=".concat(t,"&type=artist"));case 4:c=e.sent,a=c.data,C(a[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[M]);return Object(a.useEffect)((function(){L(g),I(P),F(P),B(P),R(P),W(P)}),[M,W,I,F,R,L,B,P]),Object(S.jsx)("div",{children:p(c)||p(_)||p(j)||p(m)||p(k)?Object(S.jsx)(D,{}):Object(S.jsx)(re,{albums:j,artist:c,topTracks:k,following:_,relatedArtists:m})})},le=function(e){var t=e.album;Object(a.useEffect)((function(){if(p(t))return""}),[t]);return Object(S.jsxs)("div",{className:"playlist-songs",children:[Object(S.jsx)("img",{src:"".concat(t.images[0].url),className:"playlist-page-pic",alt:""}),Object(S.jsx)("h2",{className:"artist-name",children:t.name}),Object(S.jsxs)("p",{children:[t.tracks.total," Tracks"]}),Object(S.jsx)("div",{style:{marginTop:"30px"},children:Object(S.jsx)("ol",{children:t.tracks.items.map((function(e,t){return function(e,t){var c=Math.floor(e.duration_ms/1e3),a=Math.floor(c/60);return c=(c-=60*a)>10?c:"0".concat(c),Object(S.jsx)("li",{children:Object(S.jsxs)("a",{className:"link-in-list",href:"/song/".concat(e.id),children:[Object(S.jsx)("div",{className:"name-and-time",children:Object(S.jsx)("p",{children:e.name})}),Object(S.jsx)("p",{className:"right",children:"".concat(a,":").concat(c)})]})},t)}(e,t)}))})})]})},oe=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/album?id=".concat(t));case 4:c=e.sent,a=c.data,n(a.body);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),f=Object(E.f)().id;return Object(a.useEffect)((function(){u(g),b(f)}),[j,b,f]),Object(S.jsx)("div",{children:p(c)?Object(S.jsx)(D,{}):Object(S.jsx)(le,{album:c})})},je=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),j=r[0],u=r[1],b=Object(a.useState)(),f=Object(i.a)(b,2),m=f[0],h=f[1],x=Object(E.f)(),v=x.id,k=x.name,y=Object(a.useCallback)(function(){var e=Object(o.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/playlist_recommendation?id=".concat(t));case 4:c=e.sent,a=c.data,n(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),w=Object(a.useCallback)(Object(o.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(j),!j){e.next=7;break}return e.next=4,O.get("/api/current_profile/");case 4:t=e.sent,c=t.data,h(c.body);case 7:case"end":return e.stop()}}),e)}))),[j]);return Object(a.useEffect)((function(){u(g),y(v),w()}),[u,y,v,w]),Object(S.jsx)("div",{children:p(c)||p(m)?Object(S.jsx)(D,{}):Object(S.jsx)(R,{id:m.id,playlist:c,name:k,profile:!1})})},ue=function(){return Object(S.jsx)("div",{className:"main",children:Object(S.jsxs)(C.a,{children:[Object(S.jsx)(J,{}),Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)(E.c,{children:[Object(S.jsx)(E.a,{exact:!0,path:"/",component:W}),Object(S.jsx)(E.a,{exact:!0,path:"/profile",component:W}),Object(S.jsx)(E.a,{exact:!0,path:"/profile/:id",component:Z}),Object(S.jsx)(E.a,{exact:!0,path:"/recently_played_songs",component:L}),Object(S.jsx)(E.a,{exact:!0,path:"/top_songs",component:H}),Object(S.jsx)(E.a,{exact:!0,path:"/top_artists",component:K}),Object(S.jsx)(E.a,{exact:!0,path:"/current_playlists",component:$}),Object(S.jsx)(E.a,{exact:!0,path:"/playlist/:id",component:Q}),Object(S.jsx)(E.a,{exact:!0,path:"/song/:id",component:ae}),Object(S.jsx)(E.a,{exact:!0,path:"/artist/:id",component:ie}),Object(S.jsx)(E.a,{exact:!0,path:"/album/:id",component:oe}),Object(S.jsx)(E.a,{exact:!0,path:"/playlist_recommendations/:id/:name",component:je})]})})]})})};var be=function(){var e=Object(a.useState)("loading"),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){n(g)}),[c]),Object(S.jsx)("div",{className:"App",children:p(c)?Object(S.jsx)(_,{}):Object(S.jsx)(ue,{})})};r.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(be,{})}),document.getElementById("root"))},77:function(e,t,c){}},[[199,1,2]]]);
//# sourceMappingURL=main.62346f49.chunk.js.map